<section class="vh-100 gradient-custom">
    <div class="container py-5 h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col col-xl-10">
            <ng-container *ngIf="toDo.id == '';else toDoList">
                <form class="d-flex justify-content-center align-items-center mb-4">
                    <div class="form-outline flex-fill">
                    <input placeholder="New ToDo List" type="text" id="form2" class="form-control" [formControl]="toDoTitle"/>
                    </div>
                    <button type="submit" class="btn btn-info ms-2" (click)="createToDo()">Create</button>
                </form>

                <div class="list-group" *ngFor="let toDoLink of toDos">
                    <a [routerLink]="['/todo', toDoLink.id]" class="list-group-item list-group-item-action">
                      {{toDoLink.title}}
                    </a>
                  </div>
            </ng-container>
            <ng-template #toDoList>
                <div class="card">
                    <div class="w-25 p-3"><a class="btn btn-primary" href="/todo" role="button">Return</a></div>
                    <div class="card-body p-5">
                        <h5 class="card-title">TODO : {{toDo.title}}</h5>
                        <form class="d-flex justify-content-center align-items-center mb-4">
                            <div class="form-outline flex-fill">
                            <input placeholder="New task" type="text" id="form2" class="form-control" [formControl]="taskLabel"/>
                            </div>
                            <button type="submit" class="btn btn-info ms-2" (click)="addTask()">Add</button>
                        </form>
                        <div class="tab-content" id="ex1-content">
                            <ul class="list-group mb-0">
                                <ng-container *ngFor="let task of toDo.tasks">
                                        <li class="list-group-item d-flex align-items-center border-0 mb-2 rounded"
                                        style="background-color: #f4f6f7;">
                                        <input class="form-check-input me-2" type="checkbox" [checked]="task.status=='COMPLETE'" (change)="checkboxChange($event, task)" />
                                        <s *ngIf="task.status=='COMPLETE';else inProgress">{{task.label}}</s>
                                        <ng-template #inProgress>{{task.label}}</ng-template>
                                        </li>
                                </ng-container>
                            </ul>
                        </div>
                    </div>
                </div>
            </ng-template>
        </div>
      </div>
    </div>
  </section>